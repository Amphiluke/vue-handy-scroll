/*!
vue-handy-scroll v3.0.0
https://amphiluke.github.io/vue-handy-scroll/
*/
import{pushScopeId as e,popScopeId as t,openBlock as n,createElementBlock as l,renderSlot as i,createElementVNode as o,normalizeClass as d}from"vue";let s=Object.create(null),r={emit(e,...t){let n=s[e];n&&n.forEach((e=>e(...t)))},on(e,t){let n=s[e];n||(n=[],s[e]=n),n.push(t)},off(e,t){let n=s[e];if(n){let l=n.indexOf(t);l>=0&&(n.splice(l,1),n.length||delete s[e])}}};var a={EventBus:r,props:{customViewport:{type:Boolean,default:!1},unobtrusive:{type:Boolean,default:!1}},data:()=>({visible:!0}),created(){this.skipSyncContainer=this.skipSyncWidget=!1},mounted(){this.queueUpdate().then((()=>{this.addEventHandlers()}))},unmounted(){this.removeEventHandlers()},methods:{queueUpdate(){let e=this;return e.$nextTick().then((()=>{e.update(),e.skipSyncContainer=e.skipSyncWidget=!1}))},addEventHandlers(){let e=this;if(!e.$refs.scrollBody){let t=e.windowScrollHandler=()=>e.checkVisibility(),n=e.windowResizeHandler=()=>e.update();window.addEventListener("scroll",t,!1),window.addEventListener("resize",n,!1)}let t=e.updateHandler=({sourceElement:t}={})=>{t&&!e.$el.contains(t)||e.queueUpdate()};r.on("update",t)},removeEventHandlers(){let e=this;window.removeEventListener("scroll",e.windowScrollHandler,!1),window.removeEventListener("resize",e.windowResizeHandler,!1),r.off("update",e.updateHandler)},handleWidgetScroll(){let e=this;e.visible&&!e.skipSyncContainer&&e.syncContainer(),e.skipSyncContainer=!1},handleContainerScroll(){let e=this;e.skipSyncWidget||e.syncWidget(),e.skipSyncWidget=!1},handleContainerFocus(){setTimeout((()=>this.syncWidget()),0)},checkVisibility(){let e=this,{widget:t,container:n,scrollBody:l}=e.$refs,i=t.scrollWidth<=t.offsetWidth;if(!i){let e=n.getBoundingClientRect(),t=l?l.getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;i=e.bottom<=t||e.top>t}e.visible===i&&(e.visible=!i)},syncContainer(){let{widget:e,container:t}=this.$refs,{scrollLeft:n}=e;t.scrollLeft!==n&&(this.skipSyncWidget=!0,t.scrollLeft=n)},syncWidget(){let{widget:e,container:t}=this.$refs,{scrollLeft:n}=t;e.scrollLeft!==n&&(this.skipSyncContainer=!0,e.scrollLeft=n)},update(){let{widget:e,strut:t,container:n,scrollBody:l}=this.$refs,{style:i}=e,{clientWidth:o,scrollWidth:d}=n;i.width=`${o}px`,l||(i.left=`${n.getBoundingClientRect().left}px`),t.style.width=`${d}px`,d>o&&(i.height=e.offsetHeight-e.clientHeight+1+"px"),this.syncWidget(),this.checkVisibility()}}};e("data-v-71ecdf2e");const c={key:0,class:"handy-scroll-viewport"},h={ref:"strut"},f={ref:"strut"};t();!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&l.firstChild?l.insertBefore(i,l.firstChild):l.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.handy-scroll[data-v-71ecdf2e]{bottom:0;min-height:17px;overflow:auto;position:fixed}.handy-scroll div[data-v-71ecdf2e]{height:1px;overflow:hidden;pointer-events:none}.handy-scroll div[data-v-71ecdf2e]:before{content:"\\A0"}.handy-scroll[data-v-71ecdf2e],.handy-scroll div[data-v-71ecdf2e]{font-size:1px;line-height:0;margin:0;padding:0}.handy-scroll-hidden[data-v-71ecdf2e]{bottom:9999px}.handy-scroll-hidden div[data-v-71ecdf2e]:before{content:"\\A0\\A0"}.handy-scroll-viewport[data-v-71ecdf2e]{position:relative}.handy-scroll-area[data-v-71ecdf2e],.handy-scroll-body[data-v-71ecdf2e]{overflow:auto}.handy-scroll-viewport .handy-scroll[data-v-71ecdf2e]{left:0;position:absolute}.handy-scroll-unobtrusive .handy-scroll[data-v-71ecdf2e]{opacity:0;transition:opacity .5s ease .3s}.handy-scroll-unobtrusive:hover .handy-scroll[data-v-71ecdf2e]{opacity:1}'),a.render=function(e,t,s,r,a,u){return s.customViewport?(n(),l("div",c,[i(e.$slots,"viewport-before"),o("div",{ref:"scrollBody",class:"handy-scroll-body",onScroll:t[3]||(t[3]=(...e)=>u.checkVisibility&&u.checkVisibility(...e))},[i(e.$slots,"body-before"),o("div",{ref:"container",class:d(["handy-scroll-area",{"handy-scroll-unobtrusive":s.unobtrusive}]),onScroll:t[1]||(t[1]=(...e)=>u.handleContainerScroll&&u.handleContainerScroll(...e)),onFocusin:t[2]||(t[2]=(...e)=>u.handleContainerFocus&&u.handleContainerFocus(...e))},[i(e.$slots,"default"),o("div",{ref:"widget",class:d(["handy-scroll",{"handy-scroll-hidden":!a.visible}]),onScroll:t[0]||(t[0]=(...e)=>u.handleWidgetScroll&&u.handleWidgetScroll(...e))},[o("div",h,null,512)],34)],34),i(e.$slots,"body-after")],544),i(e.$slots,"viewport-after")])):(n(),l("div",{key:1,ref:"container",class:d(["handy-scroll-area",{"handy-scroll-unobtrusive":s.unobtrusive}]),onScroll:t[5]||(t[5]=(...e)=>u.handleContainerScroll&&u.handleContainerScroll(...e)),onFocusin:t[6]||(t[6]=(...e)=>u.handleContainerFocus&&u.handleContainerFocus(...e))},[i(e.$slots,"default"),o("div",{ref:"widget",class:d(["handy-scroll",{"handy-scroll-hidden":!a.visible}]),onScroll:t[4]||(t[4]=(...e)=>u.handleWidgetScroll&&u.handleWidgetScroll(...e))},[o("div",f,null,512)],34)],34))},a.__scopeId="data-v-71ecdf2e",a.__file="src/handy-scroll.vue";export{a as default};

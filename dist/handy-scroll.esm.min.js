/*!
vue-handy-scroll v3.0.2
https://amphiluke.github.io/vue-handy-scroll/
*/
import{openBlock as e,createElementBlock as t,renderSlot as n,createElementVNode as l,normalizeClass as i}from"vue";let o=Object.create(null),d={emit(e,...t){let n=o[e];n&&n.forEach((e=>e(...t)))},on(e,t){let n=o[e];n||(n=[],o[e]=n),n.push(t)},off(e,t){let n=o[e];if(n){let l=n.indexOf(t);l>=0&&(n.splice(l,1),n.length||delete o[e])}}};var s={EventBus:d,props:{customViewport:{type:Boolean,default:!1},unobtrusive:{type:Boolean,default:!1}},data:()=>({visible:!0}),created(){this.skipSyncContainer=this.skipSyncWidget=!1},mounted(){this.queueUpdate().then((()=>{this.addEventHandlers()}))},unmounted(){this.removeEventHandlers()},methods:{queueUpdate(){let e=this;return e.$nextTick().then((()=>{e.update(),e.skipSyncContainer=e.skipSyncWidget=!1}))},addEventHandlers(){let e=this;if(!e.$refs.scrollBody){let t=e.windowScrollHandler=()=>e.checkVisibility(),n=e.windowResizeHandler=()=>e.update();window.addEventListener("scroll",t,!1),window.addEventListener("resize",n,!1)}let t=e.updateHandler=({sourceElement:t}={})=>{t&&!e.$el.contains(t)||e.queueUpdate()};d.on("update",t)},removeEventHandlers(){let e=this;window.removeEventListener("scroll",e.windowScrollHandler,!1),window.removeEventListener("resize",e.windowResizeHandler,!1),d.off("update",e.updateHandler)},handleWidgetScroll(){let e=this;e.visible&&!e.skipSyncContainer&&e.syncContainer(),e.skipSyncContainer=!1},handleContainerScroll(){let e=this;e.skipSyncWidget||e.syncWidget(),e.skipSyncWidget=!1},handleContainerFocus(){setTimeout((()=>{this.$refs&&this.$refs.widget&&this.syncWidget()}),0)},checkVisibility(){let e=this,{widget:t,container:n,scrollBody:l}=e.$refs,i=t.scrollWidth<=t.offsetWidth;if(!i){let e=n.getBoundingClientRect(),t=l?l.getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;i=e.bottom<=t||e.top>t}e.visible===i&&(e.visible=!i)},syncContainer(){let{widget:e,container:t}=this.$refs,{scrollLeft:n}=e;t.scrollLeft!==n&&(this.skipSyncWidget=!0,t.scrollLeft=n)},syncWidget(){let{widget:e,container:t}=this.$refs,{scrollLeft:n}=t;e.scrollLeft!==n&&(this.skipSyncContainer=!0,e.scrollLeft=n)},update(){let{widget:e,strut:t,container:n,scrollBody:l}=this.$refs,{style:i}=e,{clientWidth:o,scrollWidth:d}=n;i.width=`${o}px`,l||(i.left=`${n.getBoundingClientRect().left}px`),t.style.width=`${d}px`,d>o&&(i.height=e.offsetHeight-e.clientHeight+1+"px"),this.syncWidget(),this.checkVisibility()}}};const r={key:0,class:"handy-scroll-viewport"},a={ref:"strut"},c={ref:"strut"};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&l.firstChild?l.insertBefore(i,l.firstChild):l.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.handy-scroll[data-v-71ecdf2e]{bottom:0;min-height:17px;overflow:auto;position:fixed}.handy-scroll div[data-v-71ecdf2e]{height:1px;overflow:hidden;pointer-events:none}.handy-scroll div[data-v-71ecdf2e]:before{content:"\\A0"}.handy-scroll div[data-v-71ecdf2e],.handy-scroll[data-v-71ecdf2e]{font-size:1px;line-height:0;margin:0;padding:0}.handy-scroll-hidden[data-v-71ecdf2e]{bottom:9999px}.handy-scroll-hidden div[data-v-71ecdf2e]:before{content:"\\A0\\A0"}.handy-scroll-viewport[data-v-71ecdf2e]{position:relative}.handy-scroll-area[data-v-71ecdf2e],.handy-scroll-body[data-v-71ecdf2e]{overflow:auto}.handy-scroll-viewport .handy-scroll[data-v-71ecdf2e]{left:0;position:absolute}.handy-scroll-unobtrusive .handy-scroll[data-v-71ecdf2e]{opacity:0;transition:opacity .5s ease .3s}.handy-scroll-unobtrusive:hover .handy-scroll[data-v-71ecdf2e]{opacity:1}'),s.render=function(o,d,s,h,f,u){return s.customViewport?(e(),t("div",r,[n(o.$slots,"viewport-before"),l("div",{ref:"scrollBody",class:"handy-scroll-body",onScroll:d[3]||(d[3]=(...e)=>u.checkVisibility&&u.checkVisibility(...e))},[n(o.$slots,"body-before"),l("div",{ref:"container",class:i(["handy-scroll-area",{"handy-scroll-unobtrusive":s.unobtrusive}]),onScroll:d[1]||(d[1]=(...e)=>u.handleContainerScroll&&u.handleContainerScroll(...e)),onFocusin:d[2]||(d[2]=(...e)=>u.handleContainerFocus&&u.handleContainerFocus(...e))},[n(o.$slots,"default"),l("div",{ref:"widget",class:i(["handy-scroll",{"handy-scroll-hidden":!f.visible}]),onScroll:d[0]||(d[0]=(...e)=>u.handleWidgetScroll&&u.handleWidgetScroll(...e))},[l("div",a,null,512)],34)],34),n(o.$slots,"body-after")],544),n(o.$slots,"viewport-after")])):(e(),t("div",{key:1,ref:"container",class:i(["handy-scroll-area",{"handy-scroll-unobtrusive":s.unobtrusive}]),onScroll:d[5]||(d[5]=(...e)=>u.handleContainerScroll&&u.handleContainerScroll(...e)),onFocusin:d[6]||(d[6]=(...e)=>u.handleContainerFocus&&u.handleContainerFocus(...e))},[n(o.$slots,"default"),l("div",{ref:"widget",class:i(["handy-scroll",{"handy-scroll-hidden":!f.visible}]),onScroll:d[4]||(d[4]=(...e)=>u.handleWidgetScroll&&u.handleWidgetScroll(...e))},[l("div",c,null,512)],34)],34))},s.__scopeId="data-v-71ecdf2e",s.__file="src/handy-scroll.vue";export{s as default};
